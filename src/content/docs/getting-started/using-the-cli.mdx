import { Callout } from "nextra/components";

# CLI reference

The Runtipi CLI is a command-line tool for managing your Runtipi instance. Use it to control services, manage apps, and configure app stores.

## Synopsis

```bash
./runtipi-cli <command> [options] [arguments]
```

<Callout type="info">
Most commands require `sudo` privileges to manage file permissions and Docker containers. Running without `sudo` may result in permission errors.
</Callout>

## Global options

The following options are available for multiple commands:

- `--env-file <path>` - Use a custom .env file (relative or absolute path)
- `--no-permissions` - Skip file permission checks (not recommended)
- `--help` - Display help for any command

## Core commands

### `start`

Start the Runtipi instance and all services.

```bash
sudo ./runtipi-cli start [--env-file <path>] [--no-permissions]
```

### `stop`

Stop all Runtipi services.

```bash
sudo ./runtipi-cli stop
```

### `restart`

Restart Runtipi services.

```bash
sudo ./runtipi-cli restart [--env-file <path>] [--no-permissions]
```

This command checks permissions, copies files, and generates configuration without starting Docker containers.

### `update`

Update Runtipi to a specific version.

```bash
sudo ./runtipi-cli update <version> [--env-file <path>] [--no-permissions]
```

**Examples:**

```bash
# Update to latest version
sudo ./runtipi-cli update latest

# Update to specific version
sudo ./runtipi-cli update v2.0.7
```

<Callout type="warning">
Downgrading to previous versions may break your installation. Always backup before downgrading.
</Callout>

## Utility commands

### `version`

Display CLI version information.

```bash
./runtipi-cli version
```

Shows version number, commit hash, and build date.

### `installed`

List all installed apps.

```bash
./runtipi-cli installed
```

### `reset-password`

Reset the admin password.

```bash
./runtipi-cli reset-password
```

After running this command, visit `http://<your-ip>/reset-password` to set a new password.

### `debug`

Display diagnostic information for troubleshooting.

```bash
./runtipi-cli debug
```

### `help`

Display help information.

```bash
./runtipi-cli help [command]
```

## App management

Manage individual apps using the `app` subcommand. Apps are identified by `<app-id>:<store-name>`.

### `app start`

Start a specific app.

```bash
./runtipi-cli app start <app-id>:<store>
```

**Example:**
```bash
./runtipi-cli app start code-server:migrated
```

### `app stop`

Stop a running app.

```bash
./runtipi-cli app stop <app-id>:<store>
```

### `app restart`

Restart an app.

```bash
./runtipi-cli app restart <app-id>:<store>
```

### `app start-all`

Start all installed apps.

```bash
./runtipi-cli app start-all
```

### `app update`

Update an app to the latest version.

```bash
./runtipi-cli app update <app-id>:<store>
```

### `app uninstall`

Remove an app and its configuration.

```bash
./runtipi-cli app uninstall <app-id>:<store>
```

### `app reset`

Reset an app to its initial state.

```bash
./runtipi-cli app reset <app-id>:<store>
```

<Callout type="warning">
This permanently deletes all app data and settings. Backup important data first.
</Callout>

## Backup & restore

### `app backup`

Create a backup of an app.

```bash
./runtipi-cli app backup <app-id>:<store>
```

### `app restore`

Restore an app from a backup file.

```bash
./runtipi-cli app restore <app-id>:<store> <backup-filename>
```

**Example:**
```bash
./runtipi-cli app restore code-server:migrated backup-20241026-120000.tar.gz
```

### `app list-backups`

List available backups for an app.

```bash
./runtipi-cli app list-backups <app-id>:<store>
```

### `app delete-backup`

Delete a specific backup file.

```bash
./runtipi-cli app delete-backup <app-id>:<store> <backup-filename>
```

## Appstore management

Manage app stores with the `appstore` subcommand.

### `appstore list`

List all configured app stores.

```bash
./runtipi-cli appstore list
```

### `appstore update`

Update all app stores to fetch latest app information.

```bash
./runtipi-cli appstore update
```

### `appstore add`

Add a new app store.

```bash
./runtipi-cli appstore add <name> <url>
```

**Example:**
```bash
./runtipi-cli appstore add my-store https://github.com/user/my-appstore
```

### `appstore remove`

Remove an app store.

```bash
./runtipi-cli appstore remove <name>
```

import { Cards } from "nextra/components";
import { ArrowPathIcon, WrenchIcon, ShieldExclamationIcon } from "@heroicons/react/24/outline";

<Cards>
  <Cards.Card
    icon={<ArrowPathIcon />}
    title="Auto Update with Cron"
    href="/docs/guides/auto-update-with-cron"
  />
  <Cards.Card
    icon={<WrenchIcon />}
    title="Environment Variables"
    href="/docs/getting-started/custom-environment-variables"
  />
  <Cards.Card
    icon={<ShieldExclamationIcon />}
    title="Uninstalling"
    href="/docs/guides/uninstalling"
  />
</Cards>
