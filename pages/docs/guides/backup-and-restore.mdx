import { Callout } from 'nextra/components';

# Backup and restore

When changing hardware or network infrastructure, it is sometimes necessary to migrate your install onto a new device. You can do so by following the following steps.

On your first server, navigate to the `runtipi` folder and stop runtipi using the CLI

```bash
sudo ./runtipi-cli stop
```

Navigate to the parent directory and create an archive of the `runtipi` folder

```bash
tar -czvf runtipi.tar.gz runtipi
```

Send the archive to your second server. For example, using [magic-wormhole](https://github.com/magic-wormhole/magic-wormhole).
On your second server, extract the archive where you want the runtipi folder to live in.

```bash
tar -xzvf runtipi.tar.gz -C .
```

Start runtipi on your second server using the CLI

```bash
cd runtipi && sudo ./runtipi-cli start
```

<Callout>
  Make sure you have docker installed on your second server before starting runtipi. An easy way to
  do so is to install a clean runtipi instance on your second server, then stop it and replace the
  runtipi folder with the one you just extracted.
</Callout>

You're ready to go! Make sure any shared folder or manual network config you may have performed on your first server is re-applied again on your new server.
